<div class="container mt-5">
  <h3 class="mb-4">Admin Panel</h3>

  <!-- Add/Edit Product Form -->
  <div class="card mb-4 shadow-sm p-3 rounded-4">
    <div class="row g-2">

      <div class="col-md-4">
        <input [(ngModel)]="product.name" class="form-control rounded-pill" placeholder="Product Name">
      </div>

      <div class="col-md-2">
        <input type="number" [(ngModel)]="product.price" class="form-control rounded-pill" placeholder="Price">
      </div>

      <div class="col-md-4">
        <input type="text" [(ngModel)]="product.description" class="form-control rounded-pill" placeholder="Description">
      </div>

      <div class="col-md-2">
        <input type="number" [(ngModel)]="product.rating" class="form-control rounded-pill" placeholder="Rating" min="0" max="5" step="0.1">
      </div>

      <div class="col-md-4 mt-2">
        <input type="file" (change)="handleImageUpload($event)" class="form-control">
      </div>

      <div class="col-md-4 mt-2">
        <button class="btn btn-success w-100 rounded-pill" (click)="addOrUpdate()">
          {{ product.id ? 'Update Product' : 'Add Product' }}
        </button>
      </div>

    </div>
  </div>

  <!-- Products List -->
<div class="row g-3">
  <div class="col-md-4" *ngFor="let p of products">
    <div class="card shadow-sm rounded-4 product-card">
      <img [src]="p.image || 'assets/images/placeholder.png'" class="card-img-top rounded-top-4" alt="Product Image">
      <div class="card-body d-flex flex-column">
        <div>
          <h5 class="card-title">{{ p.name }}</h5>
          <p class="card-text">{{ p.description }}</p>
          <p class="card-text">â‚¹{{ p.price }} | Rating: {{ p.rating }}</p>
        </div>
        <div class="d-flex gap-2 mt-2">
          <button class="btn btn-primary w-50 rounded-pill" (click)="edit(p)">Edit</button>
          <button class="btn btn-danger w-50 rounded-pill" (click)="delete(p.id)">Delete</button>
        </div>
      </div>
    </div>
  </div>
</div>

</div>
